$(document).ready(function(){var a=d3.select("body").append("article"),b=0;d3.xml("images/US_Counties.svg",function(c,d){if(c)return void console.log(c);var e=d.getElementsByTagName("svg")[0];a.node().appendChild(e),countyLines=a.select("svg").selectAll("path").style({stroke:"#004563","stroke-width":.2});var f=[{county:"Mineral, NV",count:20},{county:"Boone, NE",count:10},{county:"Stanton, NE",count:30},{county:"Forrest, MS",count:40},{county:"Pike, MS",count:30},{county:"Washington, DC",count:100},{county:"Fremont, WY",count:10},{county:"Charlotte, FL",count:10},{county:"Bon Homme, SD",count:10},{county:"Yankton, SD",count:12},{county:"Hutchinson, SD",count:20},{county:"Hanson, SD",count:90},{county:"Prentiss, MS",count:10},{county:"Tishomingo, MS",count:10},{county:"Alcorn, MS",count:1},{county:"Tippah, MS",count:34},{county:"Cheboygan, MI",count:2},{county:"Emmet, MI",count:5},{county:"Mackinac, MI",count:30},{county:"Chippewa, MI",count:20},{county:"Luce, MI",count:22},{county:"Stafford, VA",count:9},{county:"King George, VA",count:12},{county:"Westmoreland, VA",count:18},{county:"Northumberland, VA",count:2},{county:"Mathews, VA",count:7},{county:"Norfolk, VA",count:50},{county:"Isle of Wight, VA",count:40},{county:"Suffolk, VA",count:10},{county:"Chesapeake, VA",count:5}],g="ruby";$("path").data("count",0);for(i in f)$('path[data-label = "'+f[i].county+'"]').css({fill:"rgba(152,204,150,"+.05*f[i].count+")"}),$('path[data-label = "'+f[i].county+'"]').data("count",f[i].count),b+=f[i].count;$('path[data-label = "America"]').data("count",b),$(".county-info").html(b+' tweets in America about "'+g+'"'),countyLines.on("mouseover",function(){var a=$(this).data("label"),b=$(this).data("count"),c="tweet";(b>1||0==b)&&(c="tweets"),d3.select(this).style("stroke-width","2"),$(".county-info").html(b+" "+c+" in "+a+' about "'+g+'"')}).on("mouseout",function(){d3.select(this).style("stroke-width",".2"),$(".county-info").html(b+' tweets in America about "'+g+'"')}).on("click",function(){d3.select(this).style("stroke-width","2")})})});